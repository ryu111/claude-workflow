# Agent 能力參考

## Agent 總覽

| Agent | 主要職責 | 核心能力 | 限制 |
|-------|----------|----------|------|
| ARCHITECT | 系統設計 | 規劃、分解、評估 | 不寫程式碼 |
| DEVELOPER | 程式碼實作 | 編碼、重構、整合 | 不自我審查 |
| REVIEWER | 程式碼審查 | 品質把關、安全檢查 | 不修改程式碼 |
| TESTER | 測試執行 | 驗證、回報結果 | 不修 bug |
| DEBUGGER | 錯誤分析 | 根因分析、修復建議 | 不直接部署 |
| DESIGNER | UI/UX 設計 | 視覺、互動、規格 | 不寫業務邏輯 |

---

## ARCHITECT

### 觸發場景
- 新功能規劃
- 系統架構調整
- 技術選型決策
- 大規模重構前

### 輸入
- 用戶需求描述
- 現有系統狀態

### 輸出
- OpenSpec 規格文件
- 任務分解清單
- 技術決策記錄

### 不適用
- 小型 bug 修復
- 單檔案修改
- 配置調整

---

## DEVELOPER

### 觸發場景
- 任何程式碼變更
- 新功能實作
- Bug 修復
- 重構

### 輸入
- 任務規格（tasks.md）
- 相關檔案路徑
- 技術要求

### 輸出
- 程式碼變更
- 實作說明
- 測試建議

### 限制
- 必須遵循 D→R→T 流程
- 不能自我審查
- 不能跳過測試

---

## REVIEWER

### 觸發場景
- DEVELOPER 完成後
- 程式碼合併前
- 安全敏感變更

### 審查重點
| 類別 | 檢查項目 |
|------|----------|
| 正確性 | 邏輯、邊界、錯誤處理 |
| 安全性 | 注入、認證、敏感資料 |
| 效能 | 複雜度、記憶體、N+1 |
| 可維護 | 命名、結構、註解 |

### 輸出結果
| 結果 | 意義 | 後續 |
|------|------|------|
| APPROVE | 通過 | → TESTER |
| APPROVE + MINOR | 通過但有建議 | → TESTER |
| REJECT | 不通過 | → DEVELOPER |

---

## TESTER

### 觸發場景
- REVIEWER APPROVE 後
- 需要驗證功能時

### 測試類型
| 類型 | 說明 | 優先級 |
|------|------|--------|
| Unit | 單元測試 | 必要 |
| Integration | 整合測試 | 視情況 |
| E2E | 端對端測試 | 核心流程 |

### 輸出結果
| 結果 | 意義 | 後續 |
|------|------|------|
| PASS | 全部通過 | → 完成 |
| FAIL | 有失敗 | → DEBUGGER |

---

## DEBUGGER

### 觸發場景
- TESTER FAIL 後
- 生產環境錯誤
- 難以重現的 bug

### 分析方法
1. 收集錯誤資訊
2. 重現問題
3. 定位根因
4. 提出修復方案

### 輸出
- 根因分析報告
- 修復建議
- 預防措施

---

## DESIGNER

### 觸發場景
- UI 相關需求
- 用戶體驗改善
- 視覺設計變更

### 輸入
- 功能需求
- 設計系統參考

### 輸出
- UI 規格文件
- 元件設計
- 互動說明

### 流程
```
DESIGNER → DEVELOPER → REVIEWER → TESTER
```

---

## 選擇指南

### 單一任務
```
問：這個任務主要做什麼？
├─ 規劃/設計架構 → ARCHITECT
├─ 寫/改程式碼 → DEVELOPER
├─ 檢查程式碼 → REVIEWER
├─ 執行測試 → TESTER
├─ 分析錯誤 → DEBUGGER
└─ 設計介面 → DESIGNER
```

### 組合任務
```
新功能開發：
ARCHITECT → DEVELOPER → REVIEWER → TESTER

UI 功能開發：
DESIGNER → DEVELOPER → REVIEWER → TESTER

Bug 修復：
DEBUGGER → DEVELOPER → REVIEWER → TESTER
```
